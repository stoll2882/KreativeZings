{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/samtoll/Desktop/FinalProject/react-app/src/routes.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport HomePage from './Pages/HomePage';\nimport AboutMe from './Pages/AboutMe';\nimport Stickers from './Pages/Stickers';\nimport CustomOrder from './Pages/CustomOrder';\nimport ContactMe from './Pages/ContactMe';\nimport ShoppingCart from './DetailPages/ShoppingCart';\nimport './styles.css';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport NavBar from './Components/NavBar';\nimport Prices from './Pages/Prices';\nimport Checkout from './Pages/Checkout';\nimport Login from './Pages/Login';\nimport CreateAccount from './Pages/CreateAccount';\nimport UserContext from './store/context';\nimport axios from \"axios\";\nimport { useCookies } from 'react-cookie';\n\nfunction Routes() {\n  _s();\n\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [authorized, setAuthorized] = useState(0);\n  const [userName, setUserName] = useState(\"\");\n  const [cart, setCart] = useState();\n  const [loadingCart, setLoadingCart] = useState(false);\n  const [cartTotal, setCartTotal] = useState(0);\n  const [cookies, setCookie] = useCookies([\"userName\"]);\n\n  function logOn(userName, password) {\n    setAuthorized(0);\n    console.log(\"trying to logon\" + userName);\n    axios.get('http://localhost:3002/user/' + userName + '/' + password).then(response => {\n      console.log(response.status);\n\n      if (response.status == 200) {\n        setAuthorized(2);\n        setUserName(userName);\n        setLoggedIn(true);\n        console.log(\"login worked\");\n        console.log(response.data);\n        setCookie(\"userName\", userName);\n      } else {\n        setAuthorized(1);\n        console.log(\"failed to login\");\n      }\n    }).catch(error => {\n      setAuthorized(1);\n      console.log(error);\n    });\n  }\n\n  function logOut() {\n    setCookie(\"userName\", \"\");\n    setUserName(\"\");\n    setLoggedIn(false);\n  }\n\n  function createAccount(firstName, lastName, userName, password, email, phoneNumber) {\n    var user = {\n      firstName: firstName,\n      lastName: lastName,\n      userName: userName,\n      password: password,\n      email: email,\n      phoneNumber: phoneNumber\n    };\n    axios.post('http://localhost:3002/user/', user).then(response => {\n      if (response.status == 201) {\n        setAuthorized(2);\n        setUserName(userName);\n        setLoggedIn(true);\n        console.log(\"login worked\");\n        console.log(response.data);\n      }\n    });\n  } // function to update the cart once an item has been added\n\n\n  function updateCart(userName, cart) {\n    console.log(\"writing cart...\");\n    axios.post('http://localhost:3002/cart/' + userName, cart).then(response => {\n      if (response.status == 200) {\n        console.log(\"cart written to back end\");\n      } else {\n        console.log(\"cart failed to write to back end\");\n      }\n    });\n  }\n\n  function updateTotalPrice(cart) {\n    var total;\n\n    for (var i = 0; i < cart.length; i++) {\n      var quantity = cart[i].quantity;\n      total = total + quantity * 3;\n    }\n\n    setCartTotal(total);\n  } // if username does not exist already... i.e user is not logged in... cookies the username and login user\n\n\n  if (userName == \"\" || userName == undefined) {\n    let currentUserName = cookies[\"userName\"];\n\n    if (currentUserName != \"\" && currentUserName != undefined) {\n      setUserName(currentUserName);\n      setLoggedIn(true);\n    }\n  } // say a different message if cartloading is true\n\n\n  if (loggedIn == true && cart == undefined && loadingCart == false) {\n    setLoadingCart(true);\n    axios.get('http://localhost:3002/cart/' + userName).then(response => {\n      setCart(response.data);\n      setLoadingCart(false);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  const value = {\n    loggedIn: loggedIn,\n    authorized: authorized,\n    userName: userName,\n    setLoggedIn: setLoggedIn,\n    setUserName: setUserName,\n    logOn: logOn,\n    logOut: logOut,\n    createAccount: createAccount,\n    cart: cart,\n    loadingCart: loadingCart,\n    updateCart: updateCart,\n    setCart: setCart,\n    cartTotal: cartTotal,\n    setCartTotal: setCartTotal\n  };\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: value,\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      exact: true,\n      path: \"/\",\n      render: () => {\n        return /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/HomePage\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 21\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/HomePage\",\n      children: /*#__PURE__*/_jsxDEV(HomePage, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/AboutMe\",\n      children: /*#__PURE__*/_jsxDEV(AboutMe, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      exact: true,\n      path: \"/Stickers\",\n      children: /*#__PURE__*/_jsxDEV(Stickers, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      exact: true,\n      path: \"/CustomOrder\",\n      children: /*#__PURE__*/_jsxDEV(CustomOrder, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      exact: true,\n      path: \"/Prices\",\n      children: /*#__PURE__*/_jsxDEV(Prices, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      exact: true,\n      path: \"/ContactMe\",\n      children: /*#__PURE__*/_jsxDEV(ContactMe, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      exact: true,\n      path: \"/ShoppingCart\",\n      children: /*#__PURE__*/_jsxDEV(ShoppingCart, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      exact: true,\n      path: \"/Checkout\",\n      children: /*#__PURE__*/_jsxDEV(Checkout, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      exact: true,\n      path: \"/Login\",\n      children: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      exact: true,\n      path: \"/CreateAccount\",\n      children: /*#__PURE__*/_jsxDEV(CreateAccount, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Routes, \"8YGXm+gKcLR2xFOG8qFGaZ/5pso=\", false, function () {\n  return [useCookies];\n});\n\n_c = Routes;\n;\nexport default Routes;\n\nvar _c;\n\n$RefreshReg$(_c, \"Routes\");","map":{"version":3,"sources":["/Users/samtoll/Desktop/FinalProject/react-app/src/routes.js"],"names":["React","useState","HomePage","AboutMe","Stickers","CustomOrder","ContactMe","ShoppingCart","Switch","Route","Redirect","NavBar","Prices","Checkout","Login","CreateAccount","UserContext","axios","useCookies","Routes","loggedIn","setLoggedIn","authorized","setAuthorized","userName","setUserName","cart","setCart","loadingCart","setLoadingCart","cartTotal","setCartTotal","cookies","setCookie","logOn","password","console","log","get","then","response","status","data","catch","error","logOut","createAccount","firstName","lastName","email","phoneNumber","user","post","updateCart","updateTotalPrice","total","i","length","quantity","undefined","currentUserName","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport HomePage from './Pages/HomePage';\nimport AboutMe from './Pages/AboutMe';\nimport Stickers from './Pages/Stickers';\nimport CustomOrder from './Pages/CustomOrder';\nimport ContactMe from './Pages/ContactMe';\nimport ShoppingCart from './DetailPages/ShoppingCart'\nimport './styles.css';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport NavBar from './Components/NavBar';\nimport Prices from './Pages/Prices';\nimport Checkout from './Pages/Checkout';\nimport Login from './Pages/Login';\nimport CreateAccount from './Pages/CreateAccount';\nimport UserContext from './store/context';\nimport axios from \"axios\";\nimport { useCookies } from 'react-cookie';\n\nfunction Routes () {\n    const [loggedIn, setLoggedIn] = useState(false);\n    const [authorized, setAuthorized] = useState(0);\n    const [userName, setUserName] = useState(\"\");\n    const [cart, setCart] = useState();\n    const [loadingCart, setLoadingCart] = useState(false);\n    const [cartTotal, setCartTotal] = useState(0);\n    const [cookies, setCookie] = useCookies([\"userName\"]);\n\n    function logOn(userName, password) {\n        setAuthorized(0);\n        console.log(\"trying to logon\" + userName);\n        axios.get('http://localhost:3002/user/' + userName + '/' + password).then((response) => {\n            console.log(response.status);\n            if (response.status == 200) {\n                setAuthorized(2);\n                setUserName(userName);\n                setLoggedIn(true);\n                console.log(\"login worked\");\n                console.log(response.data);\n                setCookie(\"userName\", userName);\n            } else {\n                setAuthorized(1);\n                console.log(\"failed to login\");\n            }\n        }).catch((error) => {\n            setAuthorized(1);\n            console.log(error);\n        });\n    }\n\n    function logOut() {\n        setCookie(\"userName\", \"\");\n        setUserName(\"\");\n        setLoggedIn(false);\n    }\n\n    function createAccount(firstName, lastName, userName, password, email, phoneNumber) {\n        var user = { \n            firstName: firstName,\n            lastName: lastName,\n            userName: userName,\n            password: password,\n            email: email,\n            phoneNumber: phoneNumber\n        }\n        axios.post('http://localhost:3002/user/', user).then((response) => {\n            if (response.status == 201) {\n                setAuthorized(2);\n                setUserName(userName);\n                setLoggedIn(true);\n                console.log(\"login worked\");\n                console.log(response.data);\n            }\n        });\n    }\n\n    // function to update the cart once an item has been added\n    function updateCart(userName, cart) {\n        console.log(\"writing cart...\");\n        axios.post('http://localhost:3002/cart/' + userName, cart).then((response) => {\n            if (response.status == 200) {\n                console.log(\"cart written to back end\");\n            } else {\n                console.log(\"cart failed to write to back end\")\n            }\n        });\n    }\n\n    function updateTotalPrice(cart) {\n        var total;\n        for (var i = 0; i < cart.length; i++) {\n            var quantity = cart[i].quantity;\n            total = total + (quantity * 3);\n        }\n        setCartTotal(total);\n    }\n\n    // if username does not exist already... i.e user is not logged in... cookies the username and login user\n    if (userName == \"\" || userName == undefined) {\n        let currentUserName = cookies[\"userName\"];\n        if (currentUserName != \"\" && currentUserName != undefined) {\n            setUserName(currentUserName);\n            setLoggedIn(true);\n        }\n    }\n\n    // say a different message if cartloading is true\n    if (loggedIn == true && cart == undefined && loadingCart == false) {\n        setLoadingCart(true);\n        axios.get('http://localhost:3002/cart/' + userName).then((response) => {\n            setCart(response.data);\n            setLoadingCart(false);\n        }).catch((error) => {\n            console.log(error);\n        })\n    }\n\n    const value = { \n        loggedIn: loggedIn,\n        authorized: authorized,\n        userName: userName,\n        setLoggedIn: setLoggedIn,\n        setUserName: setUserName,\n        logOn: logOn,\n        logOut: logOut,\n        createAccount: createAccount,\n        cart: cart,\n        loadingCart: loadingCart,\n        updateCart: updateCart,\n        setCart: setCart,\n        cartTotal: cartTotal,\n        setCartTotal: setCartTotal\n    };\n\n    return (\n        <UserContext.Provider value={value}>\n            <NavBar />\n            <Route exact path=\"/\" render={() => {\n                return (\n                    <Redirect to=\"/HomePage\" />\n                )\n            }}/>\n            <Route path=\"/HomePage\">\n                <HomePage />\n            </Route>\n            <Route path=\"/AboutMe\">\n                <AboutMe />\n            </Route>\n            <Route exact path=\"/Stickers\">\n                <Stickers />\n            </Route>\n            <Route exact path=\"/CustomOrder\">\n                <CustomOrder />\n            </Route>\n            <Route exact path=\"/Prices\">\n                <Prices />\n            </Route>\n            <Route exact path=\"/ContactMe\">\n                <ContactMe />\n            </Route>\n            <Route exact path=\"/ShoppingCart\">\n                <ShoppingCart />\n            </Route> \n            <Route exact path=\"/Checkout\">\n                <Checkout />\n                </Route>\n            <Route exact path=\"/Login\">\n                <Login />\n            </Route>\n            <Route exact path=\"/CreateAccount\">\n                <CreateAccount />\n            </Route>\n        </UserContext.Provider>\n    )\n};\n\nexport default Routes;"]},"metadata":{},"sourceType":"module"}